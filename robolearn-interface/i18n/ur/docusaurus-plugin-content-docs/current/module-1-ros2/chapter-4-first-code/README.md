---
id: chapter-4-first-code
title: 'Chapter 4: Your First ROS 2 Code'
sidebar_position: 4
sidebar_label: 4. First Code
description: 'Write your first ROS 2 nodes: publishers, subscribers, Python rclpy'
---


# باب 4: آپ کا پہلا ROS 2 کوڈ

آپ نے کمانڈ لائن سے ROS 2 کو دریافت کیا ہے۔ آپ نے ٹرٹل سم کو حرکت کرتے دیکھا ہے۔ آپ نے ٹاپکس کے ذریعے ڈیٹا کا بہاؤ دیکھا ہے۔ اب وقت آگیا ہے کہ وہ کوڈ لکھیں جو یہ سب ممکن بناتا ہے۔

اس باب میں، آپ پائیتھن میں اپنے پہلے ROS 2 نوڈز لکھیں گے۔ آپ پبلشرز (وہ نوڈز جو ڈیٹا بھیجتے ہیں)، سبسکرائبرز (وہ نوڈز جو ڈیٹا وصول کرتے ہیں) بنائیں گے، اور سمجھیں گے کہ وہ ROS 2 کے پب/سب انفراسٹرکچر کے ذریعے کیسے مربوط ہوتے ہیں۔ آخر تک، آپ کے پاس دو نوڈز ایک دوسرے سے بات کر رہے ہوں گے—اور آپ نے ایک دوبارہ استعمال کے قابل مہارت (reusable skill) بنائی ہوگی جو آپ کے ہر ROS 2 پروجیکٹ پر لاگو ہوتی ہے جسے آپ کبھی بنائیں گے۔

**مدت**: 4 اسباق، کل 4 گھنٹے
**لئیر بریک ڈاؤن**: L1: 40%، L2: 50%، L3: 10% (دوبارہ استعمال کے قابل مہارتیں بنانے کا تعارف)
**ہارڈ ویئر ٹائر**: ٹائر 1 (کلاؤڈ ROS 2 تجویز کردہ)
**پہلے سے درکار علم**: ابواب 1-3 (ROS 2 کا جائزہ)
**دوبارہ استعمال کے قابل مہارت جو بنائی گئی**: `ros2-publisher-subscriber` (تمام ROS 2 ڈویلپمنٹ کی بنیاد)

## سیکھنے کے مقاصد

اس باب کے اختتام تک، آپ اس قابل ہو جائیں گے کہ:

- مناسب ورک اسپیس ڈھانچے کے ساتھ **ROS 2 پیکیجز بنائیں**
- ایک **پائیتھن ROS 2 پبلشر لکھیں** جو باقاعدہ وقفوں پر ڈیٹا بھیجتا ہے
- ایک **پائیتھن ROS 2 سبسکرائبر لکھیں** جو ڈیٹا وصول کرتا اور پراسیس کرتا ہے
- **rclpy Node API** اور نوڈ لائف سائیکل کو سمجھیں
- `ros2 topic echo` اور لاگنگ کا استعمال کرتے ہوئے **پب/سب کمیونیکیشن کو ڈیبگ کریں**
- نئے فیچرز کے ساتھ اپنے کوڈ کو بڑھانے کے لیے **AI کے ساتھ تعاون کریں**
- **دوبارہ استعمال کے قابل پیٹرن کو پہچانیں** جسے آپ ماڈیول 1+ میں لاگو کریں گے۔

## اسباق

### سبق 4.1: ورک اسپیسز اور پیکیجز (60 منٹ)

ایک ROS 2 ورک اسپیس اور اپنا پہلا پیکیج بنائیں۔ ڈائریکٹری ڈھانچے (`src/`، `build/`، `install/`)، `package.xml` مینیفیسٹ، اور `colcon` کے ساتھ بلڈ کرنے کے طریقے کو سمجھیں۔

**بنیادی تصورات**:
- ورک اسپیس ڈھانچہ (src، build، install ڈائریکٹریز)
- Package.xml میٹا ڈیٹا اور انحصار (dependencies)
- colcon کے ساتھ بلڈنگ

---

### سبق 4.2: پبلشر لکھنا (60 منٹ)

ایک نوڈ بنائیں جو ہر 500ms میں "Hello World" پیغامات شائع (publish) کرے۔ `rclpy.Node` API، ٹائمرز، اور پبلشرز ڈیٹا کیسے بھیجتے ہیں، اسے سمجھیں۔

**بنیادی تصورات**:
- پبلشر بنانا (`create_publisher`)
- ٹائمر پر مبنی کال بیکس
- نوڈ لائف سائیکل (init، spin، shutdown)

---

### سبق 4.3: سبسکرائبر لکھنا (60 منٹ)

ایک نوڈ بنائیں جو ان پیغامات کو سنتا ہے اور انہیں لاگ کرتا ہے۔ کال بیکس، میسج ہینڈلنگ، اور سبسکرائبر بنانے کو سمجھیں۔

**بنیادی تصورات**:
- سبسکرائبر بنانا (`create_subscription`)
- کال بیک پیٹرن (آنے والے پیغامات کو پراسیس کرنا)
- میسج ہینڈلنگ اور لاگنگ

---

### سبق 4.4: AI کے ساتھ کوشش کریں (60 منٹ)

اپنے پب/سب سسٹم کو بڑھانے کے لیے AI کے ساتھ تعاون کریں۔ AI سے غلطی سے بچاؤ (error handling)، ترتیب (configuration)، اور لاگنگ کی سطح شامل کرنے میں مدد مانگیں۔ عمل کے ذریعے نتیجہ خیز AI مکالمے کا تجربہ کریں۔

**بنیادی تصورات**:
- AI سے مدد سے کوڈ جنریشن اور پیٹرن کی دریافت
- اپنی حدود کے خلاف AI کی تجاویز کی توثیق کرنا
- مکالمے کے ذریعے بہتر ڈیزائن کی طرف تکرار (iteration)
- پیٹرن سے ایک دوبارہ استعمال کے قابل مہارت بنانا

---

## 4-لئیر تدریسی طریقہ

| لئیر | % | کیا کور کیا گیا ہے |
|-------|---|----------------|
| **L1: دستی** | 40% | مرحلہ بہ مرح مرحلہ کوڈ واک تھرو، پیکیج ڈھانچے کی وضاحتیں |
| **L2: AI تعاون** | 50% | اپنے کوڈ کو بڑھانے کے لیے AI تعاون، توثیق، تکرار |
| **L3: ذہانت** | 10% | تعارف: دوبارہ استعمال کے قابل پیٹرن کو پہچاننا، مہارت بنانے کا پیش منظر |
| **L4: تفصیلات پر مبنی** | 0% | ابھی نہیں—پیچیدہ تفصیلات کے لیے بہت جلد |

یہ آپ کا **پہلا عملی کوڈنگ باب** ہے۔ آپ حقیقی پائیتھن کوڈ لکھتے ہیں، حقیقی ROS 2 نوڈز چلاتے ہیں، اور پہلی بار AI تعاون کا تجربہ کرتے ہیں۔

## ہارڈ ویئر کی ضروریات

**کم از کم ٹائر**: ٹائر 1 (کلاؤڈ ROS 2)

| ٹائر | آلات | آپ کیا کر سکتے ہیں |
|------|-----------|-----------------|
| **1** | لیپ ٹاپ + براؤزر | کلاؤڈ ROS 2 (TheConstruct) پائیتھن ایگزیکیوشن اور ٹاپک ویژولائزیشن کے ساتھ |
| **2+** | مقامی ROS 2 | تیز تر ایگزیکیوشن کے ساتھ مقامی تنصیب |

**نئے سیکھنے والوں کے لیے تجویز کردہ**: کلاؤڈ ROS 2 (TheConstruct) مقامی تنصیب کی پیچیدگیوں سے بچاتا ہے۔ آپ کو ایک ہی براؤزر ونڈو میں ایک ٹرمینل، پائیتھن IDE، اور ویژولائزیشن مل جاتا ہے۔

## پہلے سے درکار علم

- **ابواب 1-3** (ROS 2 تصورات اور CLI کو سمجھنا)
- **پائیتھن پروگرامنگ** (فنکشنز، کلاسز، بنیادی OOP)
- **ROS 2 ماحول سیٹ اپ** (باب 3 سے)

## مہارت کا گیٹ

**باب 5** پر آگے بڑھنے سے پہلے، آپ اس قابل ہونے چاہئیں کہ:

- `ros2 pkg create` کا استعمال کرتے ہوئے شروع سے **ایک ROS 2 پیکیج بنائیں**
- ایک **پبلشر نوڈ لکھیں** جو ہر N سیکنڈ میں پیغامات بھیجتا ہے
- ایک **سبسکرائبر نوڈ لکھیں** جو پیغامات وصول کرتا اور پراسیس کرتا ہے
- ڈیٹا کے بہاؤ کو دیکھنے کے لیے `ros2 topic echo` کا استعمال کرتے ہوئے **کمیونیکیشن کی تصدیق کریں**
- **AI کی مدد سے ایک نوڈ کو بڑھائیں** (لاگنگ، غلطی سے بچاؤ، ترتیب شامل کریں)
- **پبلشر/سبسکرائبر پیٹرن کو** اس حد تک سمجھیں کہ آپ اسے کسی اور کو سمجھا سکیں
- **یہ پہچانیں کہ یہ پیٹرن** تمام ROS 2 پروجیکٹس میں دہرایا جاتا ہے

اگر آپ یہ کر سکتے ہیں، تو آپ باب 5 کے لیے تیار ہیں۔

---

## کلیدی تصور: پبلشر/سبسکرائبر پیٹرن

یہ پیٹرن **ہر ROS 2 سسٹم** میں ظاہر ہوتا ہے جسے آپ بنائیں گے:

```
پبلشر نوڈ → ROS 2 ٹاپک → سبسکرائبر نوڈ(ز)
```

**پبلشر کا کام**: ڈیٹا بنانا، اسے وقتاً فوقتاً شائع کرنا
**سبسکرائبر کا کام**: ڈیٹا وصول کرنا، اسے پراسیس کرنا
**ROS 2 کا کام**: پبلشر سے تمام سبسکرائبرز تک ڈیٹا کو روٹ کرنا

آپ اس پیٹرن کو ان پر لاگو کریں گے:
- سینسر ڈیٹا (باب 5)
- موٹر کمانڈز (باب 6)
- سسٹم کی حیثیت (باب 7 کیپ اسٹون)

اس باب میں مہارت حاصل کریں، اور آپ پورا ROS 2 ایکو سسٹم کھول دیں گے۔

---

## نیویگیشن

**پچھلا باب**: [← باب 3: ROS 2 سے ملوائیں](../chapter-3-meet-ros2/README.md)

**اگلا باب**: [باب 5: کمیونیکیشن میں مہارت حاصل کریں →](../chapter-5-communication/README.md)

**ماڈیول کا جائزہ**: [← ماڈیول 1 پر واپس جائیں](../README.md)

**سبق 4.1 شروع کریں**: [ورک اسپیسز اور پیکیجز →](./01-workspaces-packages.md)