---
title: "Lesson 5: Complete System Specification (Capstone)"
description: "Compose all markdown skills into a complete task management system specification"
sidebar_label: "Lesson 5: Complete System Specification"
sidebar_position: 5
lesson: 5
chapter: 9
part: 3
duration: 75
concepts: 8
proficiency: A2
stage: 4
generated_by: content-implementer v1.0.0
source_spec: specs/034-chapter-9-markdown-redesign/spec.md
created: 2025-11-18
workflow: /sp.implement
version: 1.0.0
skills:
  complete-specification:
    proficiency: A2
  specification-first:
    proficiency: A2
  markdown-composition:
    proficiency: A2
  sdd-ri-methodology:
    proficiency: A2
---

# Lesson 5: Complete System Specification (Capstone)

This is it: your capstone project. You'll write a **complete specification** for a Task Management System using ALL the markdown skills you've learned:

- **Headings** (Lesson 1): Organize system hierarchy
- **Lists** (Lesson 2): Enumerate requirements
- **Code Blocks** (Lesson 3): Show expected outputs
- **Links** (Lesson 4): Reference standards and patterns

But here's the critical shift: **You write the specification FIRST**—before any implementation discussion. This is **Spec-Driven Development**: describe WHAT you want clearly, then AI helps you build HOW.

By the end of this lesson, you'll have a complete `spec.md` file that's so clear, an AI agent could implement the entire system from your specification alone.

---

## What You're Building: Task Management System

**System Overview**: A simple task manager where users can create, view, complete, and delete tasks.

**Scope (MVP)**: 3-4 core features only. No user authentication, no cloud sync, no advanced filtering. Just the essentials.

**Why This System?**
- Everyone understands task lists (familiar domain)
- Small enough for A2 tier (not overwhelming)
- Large enough to demonstrate all markdown skills
- Foundation for future enhancements

**Your Deliverable**: Complete `spec.md` file specifying the entire system.

---

## Specification-First Approach: The Foundation of SDD-RI

Before we begin, understand where this fits in the bigger picture.

### Spec-Driven Development with Reusable Intelligence (SDD-RI)

This methodology has three layers:

**1. Intent Layer (Markdown)** ← **YOU ARE HERE**
- WHAT you want to build
- Written in structured markdown
- Human-readable, AI-parseable
- Stable across implementations

**2. Intelligence Layer (Skills/Subagents)**
- Reusable components AI agents use
- Created from recurring patterns
- Compounds across projects
- Templates from Lesson 4 are examples

**3. Implementation Layer (Code)**
- HOW to build what you specified
- Generated by AI agents from spec
- Python, JavaScript, etc.
- Changes when technology changes

**Your Job**: Master the Intent Layer (markdown specifications).

**AI's Job**: Handle the Implementation Layer (code generation).

### Why Specification-First?

**Traditional Approach (Code-First)**:
1. Start writing code
2. Realize you're not sure what it should do
3. Stop, think about requirements
4. Write more code
5. Realize edge cases weren't considered
6. Refactor code
7. Repeat...

**Result**: Confusion, rework, mismatched expectations.

**Specification-First Approach**:
1. Write specification (WHAT system does)
2. Validate specification clarity (with AI feedback)
3. Refine until unambiguous
4. THEN generate code from spec

**Result**: Clear intent → Correct implementation.

**Key Insight**: Time spent clarifying specifications SAVES time during implementation. Vague specs → Wasted coding effort.

---

## Component 1: System Overview Using Headings

Start with clear hierarchy showing what the system is.

### Your Task: Write System Overview

Create file: `task-manager-spec.md`

Start with this structure:

```markdown
# Task Management System

## System Overview

[Describe what this system does in 2-3 sentences]

## Purpose

[Why does this system exist? What problem does it solve?]

## Scope

### Included in MVP (Version 1.0)

- [Feature 1]
- [Feature 2]
- [Feature 3]
- [Feature 4]

### Explicitly NOT Included (Future Versions)

- [Non-goal 1]
- [Non-goal 2]
- [Non-goal 3]
```

### Example System Overview

```markdown
# Task Management System

## System Overview

A command-line task manager for individual users. Users can create tasks with names, view all tasks with completion status, mark tasks complete, and delete tasks. All data stored locally (no cloud, no database).

## Purpose

Helps users track daily tasks without complexity of full project management software. Focused on simplicity and speed.

## Scope

### Included in MVP (Version 1.0)

- Create task with name
- View all tasks with completion status
- Mark task as complete
- Delete task

### Explicitly NOT Included (Future Versions)

- User authentication (single user only)
- Task priorities or categories
- Due dates or reminders
- Task sharing or collaboration
- Web interface (CLI only for MVP)
- Cloud sync or backup
```

**Notice**:
- Clear system name (H1)
- Logical sections (H2)
- Bulleted lists for features
- **Explicitly states non-goals** (prevents scope creep)

---

## Component 2: Feature List Using Lists

Now enumerate each feature with requirements.

### Your Task: Specify Each Feature

For EACH feature in your MVP, write:

```markdown
## Core Features

### [Feature 1 Name]

**Purpose**: [What does this feature do and why?]

**Required Inputs**:
- [Input 1] (type, constraints)
- [Input 2] (type, constraints)

**Optional Inputs**:
- [Optional input] (type, default value)

### [Feature 2 Name]

[Repeat structure]
```

### Example Feature Specifications

```markdown
## Core Features

### Create Task

**Purpose**: Allow user to add new task to system quickly.

**Required Inputs**:
- Task name (text, max 100 characters, cannot be empty)

**Optional Inputs**:
- None (MVP keeps it simple)

**Validation**:
- If name empty: Show error "Task name required"
- If name > 100 chars: Show error "Name too long (max 100 characters)"

---

### View All Tasks

**Purpose**: Display complete list of tasks with their completion status.

**Required Inputs**:
- None (displays all tasks for current user)

**Display Format**:
- Task number
- Task name
- Completion status (complete / incomplete)
- Creation timestamp

---

### Mark Task Complete

**Purpose**: Allow user to mark completed task as done.

**Required Inputs**:
- Task number (from displayed list, integer)

**Validation**:
- If task number invalid: Show error "Invalid task number"
- If task already complete: Show notice "Task already marked complete"

---

### Delete Task

**Purpose**: Remove task from system when no longer needed.

**Required Inputs**:
- Task number (from displayed list, integer)

**Confirmation**:
- Ask "Delete '[task name]'? (y/n)" before deletion
- If user confirms (y): Delete task
- If user cancels (n): Keep task
```

**Notice**:
- Each feature has clear purpose
- Required vs optional inputs distinguished
- Validation rules specified
- Confirmation patterns shown

---

## Component 3: Expected Behavior Using Code Blocks

Now show WHAT the system displays for each feature.

### Your Task: Add Expected Outputs

For EACH feature, add code blocks showing:
- Success case output
- Error case outputs
- Edge case handling

### Example Expected Outputs

```markdown
## Feature Specifications with Expected Outputs

### Create Task

#### Success Case

**Expected Output:**
```
Task created successfully!

Name: "Buy groceries"
Created: Nov 18, 2025 at 10:30 AM

Total tasks: 3
```

#### Error Cases

**If name empty:**
```
Error: Task name required
Please enter a task name to create.
```

**If name too long:**
```
Error: Name too long (max 100 characters)
Your input: 125 characters
Please shorten the task name.
```

---

### View All Tasks

#### Standard Output

**Expected Output:**
```
=== My Tasks ===

1. [ ] Buy groceries
   Created: Nov 18, 2025 at 10:30 AM

2. [✓] Write report
   Created: Nov 17, 2025 at 9:15 AM
   Completed: Nov 18, 2025 at 2:45 PM

3. [ ] Call dentist
   Created: Nov 18, 2025 at 11:00 AM

---
Total: 3 tasks | Complete: 1 | Incomplete: 2
```

#### Edge Case: No Tasks

**Expected Output:**
```
=== My Tasks ===

No tasks yet!

Create your first task to get started.
```

---

### Mark Task Complete

#### Success Case

**Expected Output:**
```
Task #2 marked complete!

"Write report" - completed on Nov 18, 2025 at 2:45 PM

Remaining incomplete tasks: 2
```

#### Error Cases

**If task number invalid:**
```
Error: Invalid task number
You entered: 99
Valid task numbers: 1-3

Please try again.
```

**If task already complete:**
```
Notice: Task already complete

"Write report" was completed on Nov 18, 2025 at 2:45 PM
```

---

### Delete Task

#### Confirmation Prompt

**Expected Output:**
```
Delete this task?

Name: "Buy groceries"
Created: Nov 18, 2025 at 10:30 AM

Are you sure? (y/n):
```

#### Success Case (User Confirms)

**Expected Output:**
```
Task deleted successfully.

"Buy groceries" has been removed.

Remaining tasks: 2
```

#### Cancelled (User Declines)

**Expected Output:**
```
Deletion cancelled.

"Buy groceries" was not deleted.
```
```

**Notice**:
- Every code block labeled with context ("Expected Output:", "Error Cases:")
- All outputs show exact text, spacing, formatting
- Edge cases handled (empty list, invalid input, already complete)
- No implementation code shown—only specifications

---

## Component 4: Reference Materials Using Links

Add links to relevant standards, patterns, and resources.

### Your Task: Add References

```markdown
## Technical References

### Design Patterns
- [Command Pattern](https://refactoring.guru/design-patterns/command) - For undo functionality (future version)
- [Repository Pattern](https://martinfowler.com/eaaCatalog/repository.html) - For data storage abstraction

### Standards
- [ISO 8601 Date Format](https://en.wikipedia.org/wiki/ISO_8601) - For timestamps
- [CLI Design Guidelines](https://clig.dev/) - For command-line interface best practices

### Related Work
- [Taskwarrior](https://taskwarrior.org/docs/) - Reference for CLI task manager features
- [Todo.txt Format](http://todotxt.org/) - Simple task storage format
```

**Why this helps**:
- Developers know which patterns to use
- Designers know standards to follow
- QA knows reference implementations
- Future you knows why decisions were made

---

## Validation: Ensuring Specification Completeness

Before calling your specification "done," validate it has all required components.

### Specification Completeness Checklist

**System Organization (Headings)**:
- ✅ System name and overview (H1)
- ✅ Feature categories (H2)
- ✅ Individual features (H3)
- ✅ Logical hierarchy (general → specific)

**Requirements (Lists)**:
- ✅ MVP features enumerated
- ✅ Non-goals explicitly listed
- ✅ Required vs optional inputs distinguished
- ✅ Validation rules specified

**Expected Behavior (Code Blocks)**:
- ✅ Success case outputs shown
- ✅ Error case outputs shown
- ✅ Edge case handling specified
- ✅ All outputs labeled with context

**References (Links)**:
- ✅ Relevant standards linked
- ✅ Design patterns referenced
- ✅ Related work cited

**Specification Quality**:
- ✅ Could AI implement from spec alone? (unambiguous)
- ✅ Are all edge cases covered?
- ✅ Are success criteria measurable?
- ✅ Are non-goals clear (prevents scope creep)?

---

## Capstone Scope Management

**Important**: Keep your capstone within A2 tier cognitive load limits.

### Required Features (3-4 Maximum)

**Must include ALL**:
1. Create Task
2. View All Tasks
3. Mark Task Complete

**Optional 4th feature** (if time allows):
4. Delete Task

**That's it.** 3-4 features total.

### Explicitly Forbidden (Scope Creep Prevention)

**Do NOT include**:
- Task priorities or categories
- Due dates or reminders
- Task editing or updating
- Task search or filtering
- User authentication
- Multi-user support
- Cloud sync
- Web interface
- Mobile app
- Database (use local file storage)

**Why so limited?**

This is A2 tier. Goal is **specification quality**, not feature quantity. Better to specify 3 features completely than 10 features vaguely.

You can always add features in "Version 2.0" after validating your specification skills.

---

## Practice Exercise: Write Your Complete Specification

Now put it all together.

### Instructions

1. **Create file**: `task-manager-spec.md`

2. **Write specification** including:
   - System overview (headings)
   - Feature list (bulleted requirements)
   - Expected outputs (code blocks for each feature)
   - References (links to standards/patterns)

3. **Use template from Lesson 4** (Feature Specification Template) for each feature

4. **Stay within scope**: 3-4 features maximum (no scope creep)

5. **Label all code blocks** ("Expected Output:", "Error Case:", etc.)

6. **Validate completeness** using checklist above

### Suggested Structure

```markdown
# Task Management System

## System Overview
[2-3 sentences]

## Purpose
[Why this system exists]

## Scope

### Included in MVP
- [3-4 features]

### NOT Included
- [Non-goals]

---

## Core Features

### Feature 1: Create Task

**Purpose**: [...]

**Required Inputs**:
- [...]

**Expected Output (Success):**
```
[Exact output text]
```

**Error Cases:**
[...]

**Success Criteria**:
- ✅ [Measurable criterion 1]
- ✅ [Measurable criterion 2]

---

### Feature 2: View All Tasks

[Repeat structure]

---

### Feature 3: Mark Task Complete

[Repeat structure]

---

### Feature 4: Delete Task (Optional)

[Repeat structure]

---

## Technical References

### Design Patterns
- [Link to pattern]

### Standards
- [Link to standard]
```

### Success Criteria

**Your specification succeeds when**:
- ✅ All headings create clear hierarchy (system → features → details)
- ✅ All features use lists for requirements
- ✅ All features have code blocks showing expected outputs
- ✅ All code blocks labeled with context
- ✅ References included for standards/patterns
- ✅ Scope clearly defined (3-4 features, non-goals explicit)
- ✅ Zero implementation code (only specifications)
- ✅ AI could implement system from spec alone (unambiguous)

---

## Try With AI

Now validate your specification with AI feedback.

**Setup**: Open Claude Code or Gemini CLI.

**CRITICAL**: You are asking AI for feedback on **specification clarity**, NOT asking AI to implement code.

### Exercise 1: Specification Clarity Review

**Prompt:**
```
I wrote a complete specification for a task management system.
Please review for clarity and completeness.

Questions:
1. Can you identify all features I need to implement from this spec?
2. Are there any ambiguous requirements?
3. What edge cases am I missing?
4. Is the specification clear enough that you could implement
   the system without asking additional questions?

DO NOT implement code yet. I only need feedback on specification quality.

[Paste your complete specification]
```

**What AI will check**:
- ✅ All features clearly defined
- ⚠️ Ambiguous requirements ("What does 'simple' mean?")
- ⚠️ Missing edge cases ("What if two tasks have same name?")
- ⚠️ Vague success criteria ("What does 'fast' mean? Need measurable metric.")

### Exercise 2: Refine Based on Feedback

**AI might point out**:
> "Your 'Create Task' feature doesn't specify:
> - Can task names be duplicates?
> - What characters are allowed in names?
> - How are tasks stored (file format, location)?
> - What if storage write fails?"

**You refine specification** to address gaps:

```markdown
### Create Task

**Purpose**: [...]

**Required Inputs**:
- Task name (text, max 100 characters, alphanumeric + spaces only)

**Validation**:
- If name empty: [error message]
- If name > 100 chars: [error message]
- If name contains invalid characters: "Only letters, numbers, and spaces allowed"

**Duplicate Handling**:
- Duplicate names allowed (tasks distinguished by ID)

**Storage**:
- Tasks saved to `tasks.json` in current directory
- If write fails: "Error: Unable to save task. Check file permissions."

**Success Criteria**:
- ✅ Task saved within 1 second
- ✅ Task appears in list immediately
- ✅ Confirmation message includes task name and ID
```

**Then ask AI again**: "Does this address your questions?"

### Exercise 3: Final Validation

**Prompt:**
```
Here's my revised specification addressing your feedback:

[Paste updated specification]

Final questions:
1. Is this specification now unambiguous?
2. Can you implement the entire system from this spec without
   needing to make assumptions?
3. Are success criteria measurable?
4. Are all edge cases handled?

DO NOT implement. Just confirm specification quality.
```

**Expected AI Response**:
> ✅ "Specification is clear and complete. I can implement all 3 features without assumptions. All edge cases covered. Success criteria measurable."

**Or**:
> ⚠️ "One remaining ambiguity: [specific issue]. Otherwise complete."

**You iterate** until AI confirms complete clarity.

### Exercise 4: Understanding Markdown as Intent Layer

**Prompt:**
```
Now that we've validated the specification clarity:

1. Explain how this markdown specification acts as the "Intent Layer"
   in Spec-Driven Development.
2. Why is it important that I wrote the specification FIRST before
   any implementation?
3. What would happen if I had started writing code without this spec?
```

**What AI will explain**:
- Intent Layer = WHAT you want (stable)
- Implementation Layer = HOW it's built (flexible)
- Spec-first prevents wasted coding effort from unclear requirements
- Same spec can generate Python, JavaScript, Go, etc. implementations
- Specifications are **more reusable** than code

**This is the foundation** you've built: Clear intent communication for AI-native development.

---

## Final Reflection: What You've Accomplished

**Lesson 1**: Learned markdown as specification language (headings for structure)
**Lesson 2**: Organized requirements with lists (bullets for options, numbers for sequences)
**Lesson 3**: Showed expected behavior with code blocks (specifications, not code)
**Lesson 4**: Created reusable intelligence (templates with Persona + Questions + Principles)
**Lesson 5**: Composed everything into complete system specification

**You now have**:
- A complete `task-manager-spec.md` specifying entire system
- Validation from AI that specification is unambiguous
- Understanding of markdown as Intent Layer in SDD-RI
- Reusable template for future specifications
- Foundation for Part 4 (Python) where you'll implement FROM specifications

**Next Steps** (After This Chapter):

**Chapter 10: Prompt Engineering** - How to communicate with AI agents effectively
**Chapter 11: Context Engineering** - How to provide context for better AI outputs
**Part 4: Python Fundamentals** - You'll write code FROM the specifications you create in markdown
**Part 5: Spec-Driven Development** - Advanced specification techniques and professional workflows

**Remember**: In AI-native development, **writing clear specifications is the primary skill**. Code is what AI generates FROM your specifications.

You've mastered the Intent Layer. You're ready for implementation.

**Congratulations on completing Chapter 9!**
